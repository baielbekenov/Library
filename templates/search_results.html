{% extends 'base.html' %}

{% load crispy_forms_tags %}

{% block title %} Результаты поиска {% endblock %}

{% block content %}
<body>
    <div class="container my-5">
        <h1>Книги</h1>
        <form method="get" action="{% url 'search_results' %}">
            <div class="form-group">
                <label for="title">Title:</label>
                <input type="text" class="form-control" name="title" id="title">
            </div>
            <br>
            <div class="form-group">
                <label for="author">Author:</label>
                <input type="text" class="form-control" name="author" id="author">
            </div>
            <br>
            <div class="form-group">
                <label for="izdat">Publication:</label>
                <input type="text" class="form-control" name="izdat" id="izdat">
            </div>
            <br>
            <div class="form-group">
                <label for="category">Category</label>
                <input type="text" class="form-control"  name="category" id="category">
            </div>
            <br>
            <div class="form-group">
                <label for="invented_number">Invented number:</label>
                <input type="text" class="form-control"  name="invented_number" id="invented_number">
            </div>
            <br>
            <button type="submit" class="btn btn-primary">Фильтровать</button>
        </form>

        <div>
            <p></p>
        </div>

        <div class="container">
        <table class="table table-primary">
            {% for book in books %}
          <thead>
            <tr>
              <th scope="col">Название книги</th>
              <th scope="col">Автор</th>
              <th scope="col">Издательство</th>
              <th scope="col">Категории</th>
              <th scope="col">Инвентарный номер</th>
              <th scope="col">Том</th>
              <th scope="col">Часть</th>
              <th scope="col">Место</th>
              <th scope="col">Год издания</th>
              <th scope="col">Количество страниц</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th scope="row">{{ book.name }}</th>
              <td>{{ book.author }}</td>
              <td>{{ book.izdat }}</td>
              <td>{{ book.category }}</td>
              <td>{{ book.invented_number }}</td>
              <td>{{ request.tom }}</td>
              <td>{{ request.part }}</td>
              <td>{{ request.place }}</td>
              <td>{{ request.created_year }}</td>
              <td>{{ request.amount_of_pages }}</td>
            </tr>
          </tbody>
        {% empty %}
            <li>Книг не найдено</li>
        {% endfor %}
        </table>
    </div>
{% endblock %}